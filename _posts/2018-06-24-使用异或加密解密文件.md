---
layout: post
title: "使用异或加密/解密文件"
author: "Cansorr"
categories: JavaDemo
tags: [源码,demo]
image: https://i.loli.net/2018/06/24/5b2f411b3b3b9.jpg
---

<br>
利用异或（^）的特性来加密/解密文件；

可以验证密码是否正确，密码错误则不解密。

<br>
  
***

### 说明

首先我们知道，A^B=C，当 C 再次异或（^） B 的时候，将会还原为 A. 也就是 A^B^B=A. 那么按照这个原理，我们可以使用异或来对文件作一个简单的加密。

原理是将 B 作为用户密码，使用该密码对文件的每一个字节异或一次以完成加密，然后得到一个被加密的文件。

那么，怎么才能验证密码是否正确呢？我们可以把密码也加密后写进文件的文件头里，在解密时读取文件头，跟用户输入的密码作对比，密码正确才解密文件。这样做确实可以，不过从安全性的角度来看，把密码写进文件中显然是不安全的；另外一个办法就是定义一组数字，用用户输入的密码异或一次，然后写进文件中，解密时再用密码去异或，将异或的结果与那组数字对比，正确则解密文件。

这里给出的代码使用的是第一种方法。
  
<br><br>
  
### 源码
 
<line>
<a href="{{ site.github.url }}/assets/code-java/EncDnc.java">EncDnc.java</a>
</line>

提示：使用 右键—另存为 的方式下载。
 

version 1.1	重构源代码，解决 InputMismatchException 异常。

<br><br><br>

